编译 IAP_BOOT代码 工程，下载到开发板，启动后可以看到boot界面。
然后，编译 用户代码 工程，生成bin文件，通过boot下载进去，或者直接烧写进去也行。
然后重启，按下按键，选择更新程序或者直接启动应用程序。

不好意思，本人这个STM32 F系列的，本人参考了一下，编译好像失败，大家试试。
关键点：
1.在IAP_BOOT 中设置用户程序跳转地址
2.用户程序设定加载地址和向量表。